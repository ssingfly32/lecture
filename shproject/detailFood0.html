<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
  <!--<![endif]-->
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Nitro &mdash; Free HTML5 Bootstrap Website Template by FreeHTML5.co</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Free HTML5 Website Template by FreeHTML5.co" />
    <meta
      name="keywords"
      content="free html5, free template, free bootstrap, free website template, html5, css3, mobile first, responsive"
    />
    <meta name="author" content="FreeHTML5.co" />

    <!-- 
	//////////////////////////////////////////////////////

	FREE HTML5 TEMPLATE 
	DESIGNED & DEVELOPED by FreeHTML5.co
		
	Website: 		http://freehtml5.co/
	Email: 			info@freehtml5.co
	Twitter: 		http://twitter.com/fh5co
	Facebook: 		https://www.facebook.com/fh5co

	//////////////////////////////////////////////////////
	 -->

    <!-- Facebook and Twitter integration -->
    <meta property="og:title" content="" />
    <meta property="og:image" content="" />
    <meta property="og:url" content="" />
    <meta property="og:site_name" content="" />
    <meta property="og:description" content="" />
    <meta name="twitter:title" content="" />
    <meta name="twitter:image" content="" />
    <meta name="twitter:url" content="" />
    <meta name="twitter:card" content="" />

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <link rel="shortcut icon" href="favicon.ico" />

    <link
      href="https://fonts.googleapis.com/css?family=Roboto:400,300,600,400italic,700"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:400,700"
      rel="stylesheet"
      type="text/css"
    />

    <!-- Animate.css -->
    <link rel="stylesheet" href="css/animate.css" />
    <!-- Icomoon Icon Fonts-->
    <link rel="stylesheet" href="css/icomoon.css" />
    <!-- Bootstrap  -->
    <link rel="stylesheet" href="css/bootstrap.css" />
    <!-- Owl Carousel -->
    <link rel="stylesheet" href="css/owl.carousel.min.css" />
    <link rel="stylesheet" href="css/owl.theme.default.min.css" />
    <!-- Theme style  -->
    <link rel="stylesheet" href="css/style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Modernizr JS -->
    <script src="js/modernizr-2.6.2.min.js"></script>
    <!-- FOR IE9 below -->
    <!--[if lt IE 9]>
      <script src="js/respond.min.js"></script>
      <![endif]-->
      <!-- jQuery -->
      <script src="js/jquery.min.js"></script>
    <script src="./js/commonJs.js"></script>
    <script
      type="text/javascript"
      src="http://dapi.kakao.com/v2/maps/sdk.js?appkey=c7b5ee17da1ef11e1189eb9d65bb9bf9"
    ></script>
    <script>
      // https://www.tutorialrepublic.com/twitter-bootstrap-tutorial/bootstrap-tabs.php 탭메뉴 집가서 공부하자.
      let contentId = '';
      $(function () {
        if (getParameter('contentId') == null || getParameter('contentId') == -1) {
          location.href = 'food.html';
        } else {
          contentId = getParameter('contentId');
          getTourData(contentId);
        }
      });

      function getTourData(contentId) {
        const apiKey =
          'GgTP6GXKOnOXVZYE%2BsIsosDcQD6y6vOZIozy%2FACsd5YHVEB7dVjFnvxiR4RWiLihH0dSUpA5vPT1R8Gp9fcQYQ%3D%3D';
        const url = `http://apis.data.go.kr/B551011/KorService1/detailCommon1?ServiceKey=GgTP6GXKOnOXVZYE%2BsIsosDcQD6y6vOZIozy%2FACsd5YHVEB7dVjFnvxiR4RWiLihH0dSUpA5vPT1R8Gp9fcQYQ%3D%3D&contentTypeId=39&contentId=${contentId}&MobileOS=ETC&MobileApp=AppTest&defaultYN=Y&firstImageYN=Y&areacodeYN=Y&catcodeYN=Y&addrinfoYN=Y&mapinfoYN=Y&overviewYN=Y&_type=json`;
        // http://apis.data.go.kr/B551011/KorService1/detailCommon1?ServiceKey=GgTP6GXKOnOXVZYE%2BsIsosDcQD6y6vOZIozy%2FACsd5YHVEB7dVjFnvxiR4RWiLihH0dSUpA5vPT1R8Gp9fcQYQ%3D%3D&contentTypeId=12&contentId=1116925&MobileOS=ETC&MobileApp=AppTest&defaultYN=Y&firstImageYN=Y&areacodeYN=Y&catcodeYN=Y&addrinfoYN=Y&mapinfoYN=Y&overviewYN=Y&_type=json
        $.ajax({
          // 데이터를 수신받을 서버 주소 // 객체일땐 = 사용x, : 사용
          url: url,
          type: 'get', // 통신방식(get, post, put, delete)
          dataType: 'json', // 수신받을 데이터 타입
          async: false,
          success: function (data) {
            // 통신이 성공했을 때 호출되는 콜백 함수
            // console.log(data);
            parsingData(data);
            getSlideData();
          },
          error: function () {
            // 통신이 실패(부정적인 response) 했을 때 호출되는 콜백함수
          },
          complete: function () {}, // 통신이 완료 되었을 때 호출 되는 콜백함수
        });
      }
      function getSlideData() {
        const url = `http://apis.data.go.kr/B551011/KorService1/detailImage1?ServiceKey=GgTP6GXKOnOXVZYE%2BsIsosDcQD6y6vOZIozy%2FACsd5YHVEB7dVjFnvxiR4RWiLihH0dSUpA5vPT1R8Gp9fcQYQ%3D%3D&contentId=${contentId}&MobileOS=ETC&MobileApp=AppTest&imageYN=Y&subImageYN=Y&numOfRows=10&_type=json`;
        // `http://apis.data.go.kr/B551011/KorService1/detailImage1?ServiceKey=GgTP6GXKOnOXVZYE%2BsIsosDcQD6y6vOZIozy%2FACsd5YHVEB7dVjFnvxiR4RWiLihH0dSUpA5vPT1R8Gp9fcQYQ%3D%3D&contentId=${contentId}&MobileOS=ETC&MobileApp=AppTest&imageYN=Y&subImageYN=Y&numOfRows=10&_type=json`;

        $.ajax({
          // 데이터를 수신받을 서버 주소 // 객체일땐 = 사용x, : 사용
          url: url,
          type: 'get', // 통신방식(get, post, put, delete)
          dataType: 'json', // 수신받을 데이터 타입
          async: false,
          success: function (data) {
            // 통신이 성공했을 때 호출되는 콜백 함수
            console.log(data);
            showSlide(data);
          },
          error: function () {
            // 통신이 실패(부정적인 response) 했을 때 호출되는 콜백함수
          },
          complete: function () {}, // 통신이 완료 되었을 때 호출 되는 콜백함수
        });
      }
      function parsingData(tourData) {
        // 객체는 const로 선언하자
        const title = tourData.response.body.items.item[0].title;
        $('.fh5co-heading').html(title);
        let outputImage,
          output = '';
        const firstimage = tourData.response.body.items.item[0].firstimage;
        const zipcode = tourData.response.body.items.item[0].zipcode;
        const addr1 = tourData.response.body.items.item[0].addr1;
        const overview = tourData.response.body.items.item[0].overview;
        const mapx = tourData.response.body.items.item[0].mapx;
        const mapy = tourData.response.body.items.item[0].mapy;
        outputImage += `<br><div><img src=${firstimage} width=400px;></div><br>`;
        output += `<div style="font-size:16px;">${zipcode}</div>`;
        output += `<div style="font-size:16px;">${addr1}</div>`;
        output += `<div style="font-size:16px;">개요 :${overview}</div>`;
        $('.common').html(outputImage);
        $('.common2').html(output);
        drawKakaoMap(mapy, mapx);
      }

      function showSlide(imgData) {
        let images = '<br>'; // 계속 추가해야해서 let 선언
        $.each(imgData.response.body.items.item, function (i, image) {
          images += `<img src='${image.originimgurl}'/>`;
        });
        $('#home').html(images);
      }
      function drawKakaoMap(lat, long) {
        const container = document.getElementById('map'); //지도를 담을 영역의 DOM 레퍼런스
        const options = {
          //지도를 생성할 때 필요한 기본 옵션
          center: new kakao.maps.LatLng(lat, long), //지도의 중심좌표.
          level: 3, //지도의 레벨(확대, 축소 정도)
        };
        const map = new kakao.maps.Map(container, options); //지도 생성 및 객체 리턴

        // 마커가 표시될 위치입니다
        const markerPosition = new kakao.maps.LatLng(lat, long);
        const marker = new kakao.maps.Marker({
          position: markerPosition,
        });
        // 마커가 지도 위에 표시되도록 설정합니다
        marker.setMap(map);
      }
    </script>
  </head>
  <body>
    <div id="fh5co-page">
      <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
      <aside id="fh5co-aside" role="complementary" class="border js-fullheight">
        <h1 id="fh5co-logo">
          <a href="index.html"
            ><img src="images/logo.png" alt="Free HTML5 Bootstrap Website Template"
          /></a>
        </h1>
        <nav id="fh5co-main-menu" role="navigation">
          <ul>
            <li><a href="tour.html">여행</a></li>
            <li class="fh5co-active"><a href="food.html">음식</a></li>
            <li><a href="festival.html">축제</a></li>
            <li><a href="house.html">숙박</a></li>
            <li><a href="shopping.html">쇼핑</a></li>
            <li><a href="reports.html">레포츠</a></li>
            <li><a href="travel.html">여행</a></li>
            <li><a href="culture.html">문화</a></li>
            <li><a href="whisList.html">찜 목록</a></li>
          </ul>
        </nav>
      </aside>

      <div id="fh5co-main">
        <div class="fh5co-narrow-content">
          <h2 class="fh5co-heading animate-box" data-animate-effect="fadeInLeft">
            <span></span>
          </h2>
          <div class="row animate-box" data-animate-effect="fadeInLeft">
            <!-- detailCommon1
            detailIntro1
            detailInfo1
            detailImage1 -->
            <div class="detailCommon1">
              <h3><button>공통정보</button></h3>
              <h3><button>소개정보</button></h3>
              <h3><button>반복정보</button></h3>
              <h3><button>추가이미지</button></h3>
            </div>
            <!-- 공통정보 밑에 사진 옆에 내용 -->
            <div class="common"></div>
            <div class="common2"></div>
            <div>지도</div>
            <div id="map"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- jQuery Easing -->
    <script src="js/jquery.easing.1.3.js"></script>
    <!-- Bootstrap -->
    <script src="js/bootstrap.min.js"></script>
    <!-- Carousel -->
    <script src="js/owl.carousel.min.js"></script>
    <!-- Stellar -->
    <script src="js/jquery.stellar.min.js"></script>
    <!-- Waypoints -->
    <script src="js/jquery.waypoints.min.js"></script>
    <!-- Counters -->
    <script src="js/jquery.countTo.js"></script>

    <!-- MAIN JS -->
    <script src="js/main.js"></script>
  </body>
</html>
